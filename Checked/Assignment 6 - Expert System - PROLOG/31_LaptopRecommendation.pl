:- discontiguous(laptop/1).
:- discontiguous(brand/2).
:- discontiguous(model/2).
:- discontiguous(ram/2).
:- discontiguous(hd_type/2).
:- discontiguous(hd_size/2).
:- discontiguous(screen_size/2).
:- discontiguous(price/2).
:- discontiguous(processor_brand/2).
:- discontiguous(processor_model/2).
:- discontiguous(clock_speed/2).
:- discontiguous(gc_brand/2).
:- discontiguous(gc_size/2).
:- discontiguous(os/2).
:- discontiguous(weight/2).
:- discontiguous(comments/2).

% Facts for Dell Inspiron 15-3567
laptop(1).
brand(1,'Dell').
model(1,'Inspiron 15-3567').
ram(1,4).
hd_type(1,'hdd').
hd_size(1,1024).
screen_size(1,13).
price(1,40000).
processor_brand(1,'intel').
processor_model(1,'i5').
clock_speed(1,2.5).
gc_brand(1,'intel').
gc_size(1,2).
os(1,'linux').
weight(1,2.5).
comments(1,'').



% Facts for Apple MacBook Air
laptop(3).
brand(3,'Apple').
model(3,'MacBook Air').
ram(3,8).
hd_type(3,'ssd').
hd_size(3,256).
screen_size(3,13.3).
price(3,77500).
processor_brand(3,'intel').
processor_model(3,'i7').
clock_speed(3,1.8).
gc_brand(3,'intel').
gc_size(3,2).
os(3,'mac').
weight(3,1.35).
comments(3,'').


% Facts for Apple MacBook Pro
laptop(4).
brand(4,'Apple').
model(4,'MacBook Pro').
ram(4,8).
hd_type(4,'ssd').
hd_size(4,512).
screen_size(4,13.3).
price(4,118990).
processor_brand(4,'intel').
processor_model(4,'i7').
clock_speed(4,2.3).
gc_brand(4,'intel').
gc_size(4,2).
os(4,'mac').
weight(4,2.9).
comments(4,'').

% Facts for Dell Vostro 3468
laptop(4).
brand(4,'Dell').
model(4,'Vostro 3468').
ram(4,4).
hd_type(4,'hdd').
hd_size(4,1024).
screen_size(4,14).
price(4,33225).
processor_brand(4,'intel').
processor_model(4,'i3').
clock_speed(4,2.4).
gc_brand(4,'intel').
gc_size(4,2).
os(4,'linux').
weight(4,1.76).
comments(4,'Integrated Graphics').



% Facts for Dell Vostro 3568
laptop(5).
brand(5,'Dell').
model(5,'Vostro 3568').
ram(5,4).
hd_type(5,'hdd').
hd_size(5,512).
screen_size(5,15.6).
price(5,24900).
processor_brand(5,'intel').
processor_model(5,'Celeron 3855U').
clock_speed(5,1.6).
gc_brand(5,'intel').
gc_size(5,2).
os(5,'linux').
weight(5,2.5).
comments(5,'Integrated Graphics').


% Facts for Dell Inspiron 15 3565
laptop(6).
brand(6,'Dell').
model(6,'Inspiron 15 3565').
ram(6,4).
hd_type(6,'hdd').
hd_size(6,256).
screen_size(6,15).
price(6,20990).
processor_brand(6,'amd').
processor_model(6,'E2').
clock_speed(6,1.8).
gc_brand(6,'amd').
gc_size(6,2).
os(6,'linux').
weight(6,2.3).
comments(6,'Integrated Graphics').


% Facts for Acer Nitro 5
laptop(7).
brand(7,'Acer').
model(7,'Nitro 5').
ram(7,16).
hd_type(7,'ssd').
hd_size(7,256).
screen_size(7,15.6).
price(7,72784).
processor_brand(7,'amd').
processor_model(7,'FX 9830P').
clock_speed(7,3).
gc_brand(7,'amd').
gc_size(7,4).
os(7,'windows').
weight(7,2.7).
comments(7,'').



% Facts for Acer Aspire E5- 575G- 51VA
laptop(8).
brand(8,'Acer').
model(8,'Aspire E5- 575G- 51VA').
ram(8,8).
hd_type(8,'ssd').
hd_size(8,512).
screen_size(8,15.6).
price(8,50331).
processor_brand(8,'intel').
processor_model(8,'i5').
clock_speed(8,2.3).
gc_brand(8,'nvidia').
gc_size(8,4).
os(8,'linux').
weight(8,2.7).
comments(8,'').


% Facts for Acer Aspire F 15
laptop(9).
brand(9,'Acer').
model(9,'Aspire F 15').
ram(9,8).
hd_type(9,'ssd').
hd_size(9,512).
screen_size(9,15.6).
price(9,59898).
processor_brand(9,'intel').
processor_model(9,'i5').
clock_speed(9,2.8).
gc_brand(9,'nvidia').
gc_size(9,4).
os(9,'windows').
weight(9,2.3).
comments(9,'').



% Facts for Acer Spin 7 SP714-51
laptop(10).
brand(10,'Acer').
model(10,'Spin 7 SP714-51').
ram(10,16).
hd_type(10,'ssd').
hd_size(10,512).
screen_size(10,14).
price(10,124900).
processor_brand(10,'intel').
processor_model(10,'i7').
clock_speed(10,3.6).
gc_brand(10,'intel').
gc_size(10,8).
os(10,'windows').
weight(10,1.2).
comments(10,'Integrated Graphics').









% Facts for HP 15q-bu004tu
laptop(11).
brand(11,'HP').
model(11,'15q-bu004tu').
ram(11,4).
hd_type(11,'hdd').
hd_size(11,1024).
screen_size(11,15.6).
price(11,27990).
processor_brand(11,'intel').
processor_model(11,'i3').
clock_speed(11,2).
gc_brand(11,'intel').
gc_size(11,2).
os(11,'linux').
weight(11,2.1).
comments(11,'').






% Facts for Lenovo IP310
laptop(12).
brand(12,'Lenovo').
model(12,'IP310').
ram(12,8).
hd_type(12,'ssd').
hd_size(12,1024).
screen_size(12,15.6).
price(12,41990).
processor_brand(12,'intel').
processor_model(12,'i5').
clock_speed(12,2.5).
gc_brand(12,'nvidia').
gc_size(12,2).
os(12,'linux').
weight(12,2.8).
comments(12,'customer rating 3.8').




% Facts for Asus X555LA-XX172D
laptop(13).
brand(13,'Asus').
model(13,'X555LA-XX172D').
ram(13,4).
hd_type(13,'hdd').
hd_size(13,512).
screen_size(13,15.6).
price(13,28489).
processor_brand(13,'intel').
processor_model(13,'i3 4th gen').
clock_speed(13,1.9).
gc_brand(13,'intel').
gc_size(13,2).
os(13,'linux').
weight(13,2.3).
comments(13,'').


% Facts for Asus X554LD
laptop(14).
brand(14,'Asus').
model(14,'X554LD').
ram(14,2).
hd_type(14,'hdd').
hd_size(14,512).
screen_size(14,15.6).
price(14,29199).
processor_brand(14,'intel').
processor_model(14,'i3 4th gen').
clock_speed(14,1.9).
gc_brand(14,'intel').
gc_size(14,1).
os(14,'linux').
weight(14,2.3).
comments(14,'').


% Facts for Asus X550LAV-XX771D
laptop(15).
brand(15,'Asus').
model(15,'X550LAV-XX771D').
ram(15,2).
hd_type(15,'hdd').
hd_size(15,512).
screen_size(15,15.6).
price(15,29990).
processor_brand(15,'intel').
processor_model(15,'i3 4th gen').
clock_speed(15,1.7).
gc_brand(15,'intel').
gc_size(15,1).
os(15,'linux').
weight(15,2.5).
comments(15,'').


% Facts for Asus X540LA-XX538T
laptop(16).
brand(16,'Asus').
model(16,'X540LA-XX538T').
ram(16,4).
hd_type(16,'ssd').
hd_size(16,256).
screen_size(16,15.6).
price(16,30899).
processor_brand(16,'intel').
processor_model(16,'i3 5th gen').
clock_speed(16,2).
gc_brand(16,'intel').
gc_size(16,2).
os(16,'windows').
weight(16,2.3).
comments(16,'').


l(0, []).
l(N, [N | L]) :-
    N > 0,
    N1 is N - 1,
    l(N1, L).

:- discontiguous(chik/3).

isgaming(X):-
    ram(X,R),R>=8,
    hd_size(X,H),H>=512,
    screen_size(X,S),S>15,
    ((processor_brand(X,intel),(processor_model(X,'i5');processor_model(X,'i3');processor_model(X,'i7')));processor_brand(X,'amd')),
    gc_size(X,G),G>=2,
    os(X,'windows').

isdev(X):-
    ram(X,R),R>=8,
    hd_size(X,H),H>=512,
    screen_size(X,S),S>14,
    clock_speed(X,C),C>=2.3,
    (processor_brand(X,'intel'),(processor_model(X,'i5');processor_model(X,'i3');(processor_model(X,'i7')))),
    gc_size(X,G),G>=1.

isclerk(X):-
    ram(X,R),R>=2,
    hd_size(X,H),H>=512,
    screen_size(X,S),S>12,
    processor_brand(X,'intel'),
    os(X,'windows').

ishome(X):-
    ram(X,R),R>=4,
    hd_size(X,H),H>=512,
    screen_size(X,S),S>13,
    os(X,'windows');os(X,'mac').

compare_hd_type(P,Q):-
    hd_type(P,R),
    hd_type(Q,S),
    X = R, Y= S,
    (X = 'ssd', Y = 'hdd').

compare_gc_size(P,Q):-
    gc_size(P,R),
    gc_size(Q,S),
    X = R, Y= S,
    X>=Y.

compare_gc_size(P,Q):-
    hd_size(P,R),
    hd_size(Q,S),
    X = R, Y= S,
    X>=Y.

compare_weight(P,Q):-
    weight(P,R),
    weight(Q,S),
    X = R, Y= S,
    X>=Y.

compare_price(P,Q):-
    price(P,R),
    price(Q,S),
    X = R, Y= S,
    X>=Y.


compare_screen_size(P,Q):-
    screen_size(P,R),
    screen_size(Q,S),
    X = R, Y= S,
    X>=Y.

compare_processors_brand(P,Q):-
    A = 1, B = 2, B>A,
    processor_brand(P,R),
    processor_brand(Q,S),
    X = R, Y= S,
    ((X = 'amd', Y = 'amd');
	(X = 'intel' , Y = 'amd');
	(X = 'intel' , Y = 'intel')).

compare_graphics(P,Q):-
    A = 1, B = 2, B>A,
    gc_brand(P,R),
    gc_brand(Q,S),
    X = R, Y= S,
    ((X = 'nvidia', Y = 'amd');
	(X = 'nvidia' , Y = 'intel');
	(X = 'intel' , Y = 'intel');
	(X = 'nvidia' , Y = 'nvidia');
	(X = 'amd' , Y = 'amd');
    (X = 'amd', Y = 'intel')).

compare_processors(P,Q):-
    A = 1, B = 2, B>A,
    processor_model(P,R),
    processor_model(Q,S),
    X = R, Y= S,
    ((X = 'i5', Y = 'i3');
    (X = 'i7', Y = 'i3');
    (X = 'i5', Y = 'i5');
    (X = 'i3', Y = 'i3');
    (X = 'i7', Y = 'i7');
    (X = 'i7', Y = 'i5')).

compare_laptop(X,Y):-
	compare_price(X,Y);
    compare_processors_brand(X,Y);
    compare_processors(X,Y);
    compare_gc_size(X,Y);
    compare_screen_size(X,Y).



bubble_sort(List,Sorted):-b_sort(List,[],Sorted).
b_sort([],Acc,Acc).
b_sort([H|T],Acc,Sorted):-bubble(H,T,NT,Max),b_sort(NT,[Max|Acc],Sorted).

bubble(X,[],[],X).
bubble(X,[Y|T],[Y|NT],Max):-compare_laptop(Y,X),bubble(X,T,NT,Max).
bubble(X,[Y|T],[X|NT],Max):-compare_laptop(X,Y),bubble(Y,T,NT,Max).

chik([],_,[]).
l(0,[]).

l(N,[N|L]):-
    N>0,
    N1 is N-1,
    l(N1,L).

chik([H|T],P,[H|Result]) :-
    price(H,Q),q
    Q=<P,
    chik(T,P,Result).

chik([_|T],P,Result) :-
    chik(T,P,Result).

input(P,M):-
    l(16,L),
    chik(L,P,M).


printlaptop(Laptop) :-
    brand(Laptop, Brand),
    model(Laptop, Model),
    price(Laptop, Price),
    write('Brand: '), write(Brand), nl,
    write('Model: '), write(Model), nl,
    write('Price: Rs.'), write(Price), nl.


check([], _, []).

check([H | T], S, [H | Result]) :-
    S =:= 1,
    isgaming(H),
    printlaptop(H),
    check(T, S, Result).

check([H | T], S, [H | Result]) :-
    S =:= 2,
    isdev(H),
    printlaptop(H),
    check(T, S, Result).

check([H | T], S, [H | Result]) :-
    S =:= 3,
    isclerk(H),
    printlaptop(H),
    check(T, S, Result).

check([H | T], S, [H | Result]) :-
    S =:= 4,
    ishome(H),
    printlaptop(H),
    check(T, S, Result).

check([_ | T], S, Result) :-
    check(T, S, Result).

is_desired_laptop(RAM, HDD, ScreenSize, OS, HDType, Weight, ProcessorModel, GCSize, Laptop) :-
    ram(Laptop, LaptopRAM),
    hd_size(Laptop, LaptopHDD),
    screen_size(Laptop, LaptopScreenSize),
    os(Laptop, LaptopOS),
    hd_type(Laptop, LaptopHDType),
    weight(Laptop, LaptopWeight),
    processor_model(Laptop, LaptopProcessorModel),
    gc_size(Laptop, LaptopGCSize),
    LaptopRAM >= RAM,
    LaptopHDD >= HDD,
    LaptopScreenSize >= ScreenSize,
    LaptopOS == OS,
    LaptopHDType == HDType,
    LaptopWeight =< Weight,
    LaptopProcessorModel == ProcessorModel,
    (GCSize = 0 ; LaptopGCSize >= GCSize).  


test() :-
    write('Type of laptop: 1 for gaming, 2 for dev, 3 for clerk, 4 for home '),
    nl,
    read(B),
    integer(B),
    write('Input Upper bound on Price '),
    nl,
    read(P),
    integer(P),
    P > 0,

    % Ask the user for specifications
    write('Desired RAM (GB): '),
    nl,
    read(RAM),
    integer(RAM),

    write('Desired Hard Disk Size (GB): '),
    nl,
    read(HDD),
    integer(HDD),

    write('Desired Screen Size (inches): '),
    nl,
    read(ScreenSize),
    number(ScreenSize),

    write('Desired OS (windows, linux, mac): '),
    nl,
    read(OS),
    atom(OS), % Ensure the input is an atom (e.g., 'windows', 'linux', 'mac').

    write('Desired Hard Disk Type (hdd, ssd): '),
    nl,
    read(HDType),
    atom(HDType), % Ensure the input is an atom (e.g., 'hdd', 'ssd').

    write('Desired Maximum Weight (kg): '),
    nl,
    read(Weight),
    number(Weight),

    % Ask the user for processor model
    write('Desired Processor Model: '),
    nl,
    read(ProcessorModel),
    atom(ProcessorModel), % Ensure the input is an atom (e.g., 'i5', 'i7').

    % Ask the user for graphics card size
    write('Desired Graphics Card Size: '),
    nl,
    read(GCSize),
    number(GCSize),

    % Call input to get the initial list of laptops above the upper bound price
    input(P, InitialList),

    % Filter the laptops based on the users specifications
    include(is_desired_laptop(RAM, HDD, ScreenSize, OS, HDType, Weight, ProcessorModel, GCSize), InitialList, FilteredList),

    bubble_sort(FilteredList, SortedList),

    % Recommend the laptop
    write('Recommended Laptop:'), nl,
    check(SortedList, B, _).